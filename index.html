<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Valentine?</title>
  <style>
    body{margin:0;min-height:100vh;display:grid;place-items:center;font-family:system-ui;background:#ffe6ef;overflow:hidden}
    .card{width:min(560px,92vw);background:#fff;border-radius:18px;padding:22px;text-align:center;box-shadow:0 14px 40px rgba(0,0,0,.12)}
    h1{margin:0 0 6px;font-size:34px}
    p{margin:0 0 16px;opacity:.8}
    .stage{position:relative;height:170px}
    button{
      border:0;border-radius:999px;font-weight:800;cursor:pointer;
      position:absolute;left:50%;
      transform:translateX(-50%);
      transition:transform .18s ease,left .12s ease,top .12s ease;
      touch-action: manipulation; /* ðŸ‘ˆ important for mobile */
      -webkit-tap-highlight-color: transparent;
      user-select:none;
    }
    #yes{top:18px;background:#ff2f76;color:#fff;width:180px;height:54px;font-size:18px}
    #no{top:92px;background:#fff;color:#ff2f76;border:2px solid rgba(255,47,118,.35);width:180px;height:54px;font-size:18px}
    .hint{min-height:20px;margin-top:10px;opacity:.75}
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.35);padding:16px}
    .modal.open{display:grid}
    .box{background:#fff;border-radius:16px;padding:18px;text-align:center;width:min(520px,94vw);box-shadow:0 18px 60px rgba(0,0,0,.2)}
    .box button{position:static;transform:none;background:#ff2f76;color:#fff;padding:12px 16px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Will you be my Valentine? ðŸ’˜</h1>
    <p>Choose wisely ðŸ˜„</p>

    <div class="stage" id="stage">
      <button id="yes" type="button">Yes ðŸ’–</button>
      <button id="no" type="button">No</button>
    </div>

    <div class="hint" id="hint"></div>
  </div>

  <div class="modal" id="modal">
    <div class="box">
      <h2>YAY!! ðŸŽ‰ðŸ’—</h2>
      <p id="modalText">Just do it. I knew you would say Yes ðŸ’–</p>
      <button id="close" type="button">Aww okay ðŸ˜Š</button>
    </div>
  </div>

  <script>
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const hint = document.getElementById("hint");
    const stage = document.getElementById("stage");
    const modal = document.getElementById("modal");
    const close = document.getElementById("close");

    const reasons = [
  "No (are you sure?)",
  "No (come on ðŸ˜­)",
  "No (pls Maya ðŸ¥ºðŸ’§)",
  "No (donâ€™t do me like that ðŸ˜­)",
  "No (last chance!)"
];

    let n = 0, yesScale = 1, noScale = 1;

    function apply() {
      yes.style.transform = `translateX(-50%) scale(${yesScale})`;
      no.style.transform  = `translateX(-50%) scale(${noScale})`;
    }

    function moveNo() {
  const r = stage.getBoundingClientRect();
  const b = no.getBoundingClientRect();

  const maxX = Math.max(0, r.width - b.width);

  // Keep NO below the YES zone (roughly the top ~70px)
  const minY = 80; // adjust if you want lower/higher
  const maxY = Math.max(minY, r.height - b.height);

  const x = Math.random() * maxX;
  const y = minY + Math.random() * (maxY - minY);

  no.style.left = `${x}px`;
  no.style.top  = `${y}px`;
  no.style.transform = `scale(${noScale})`;
}

    // YES opens modal
    yes.addEventListener("click", () => {
      modal.classList.add("open");
    });

    // close modal
    close.addEventListener("click", () => modal.classList.remove("open"));
    modal.addEventListener("click", (e) => {
      if (e.target === modal) modal.classList.remove("open");
    });

    // NO logic (tap)
    no.addEventListener("click", () => {
      n++;

      if (n <= 5) {
        yesScale = Math.min(yesScale + 0.18, 2.2);
        noScale  = Math.max(noScale - 0.12, 0.55);
        apply();

        no.textContent = reasons[Math.min(n - 1, reasons.length - 1)];
        hint.textContent = n === 5 ? "Uh ohâ€¦ the No button is getting shy ðŸ‘€" : "Hmmâ€¦ try again? ðŸ˜‡";
      }
    });

    // After 5 NO clicks, dodge on hover (desktop) and touch (mobile)
    stage.addEventListener("mousemove", (e) => {
      if (n < 5) return;
      const b = no.getBoundingClientRect();
      const dx = e.clientX - (b.left + b.width / 2);
      const dy = e.clientY - (b.top + b.height / 2);
      if (Math.hypot(dx, dy) < 120) moveNo();
    });

    stage.addEventListener("touchstart", () => {
      if (n < 5) return;
      moveNo();
      hint.textContent = "Too slow ðŸ˜„";
    }, { passive: true });

    apply();
  </script>
</body>
</html>
